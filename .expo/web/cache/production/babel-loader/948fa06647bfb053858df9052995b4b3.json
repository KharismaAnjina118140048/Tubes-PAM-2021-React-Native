{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import NativeModule from\"./NativeReanimated\";var jsListener=function jsListener(eventName,handler){return function(evt){handler(_objectSpread(_objectSpread({},evt.nativeEvent),{},{eventName:eventName}));};};var WorkletEventHandler=function(){function WorkletEventHandler(worklet){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];_classCallCheck(this,WorkletEventHandler);this.worklet=worklet;this.eventNames=eventNames;this.reattachNeeded=false;if(!NativeModule.native){this.listeners=eventNames.reduce(function(acc,eventName){acc[eventName]=jsListener(eventName,worklet);return acc;},{});}}_createClass(WorkletEventHandler,[{key:\"updateWorklet\",value:function updateWorklet(newWorklet){this.worklet=newWorklet;this.reattachNeeded=true;}},{key:\"registerForEvents\",value:function registerForEvents(viewTag){var _this=this;var fallbackEventName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;this.viewTag=viewTag;this.registrations=this.eventNames.map(function(eventName){return NativeModule.registerEventHandler(viewTag+eventName,_this.worklet);});if(this.registrations.length===0&&fallbackEventName){this.registrations.push(NativeModule.registerEventHandler(viewTag+fallbackEventName,this.worklet));}}},{key:\"unregisterFromEvents\",value:function unregisterFromEvents(){this.registrations&&this.registrations.forEach(function(id){return NativeModule.unregisterEventHandler(id);});this.registrations=undefined;}}]);return WorkletEventHandler;}();export{WorkletEventHandler as default};","map":{"version":3,"sources":["C:/Users/PC NOOB/Downloads/pokepoke/node_modules/react-native-reanimated/src/reanimated2/WorkletEventHandler.js"],"names":["NativeModule","jsListener","eventName","handler","evt","nativeEvent","WorkletEventHandler","worklet","eventNames","reattachNeeded","native","listeners","reduce","acc","newWorklet","viewTag","fallbackEventName","undefined","registrations","map","registerEventHandler","length","push","forEach","id","unregisterEventHandler"],"mappings":"+9BAAA,MAAOA,CAAAA,YAAP,0BAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,SAAD,CAAYC,OAAZ,QAAwB,UAACC,GAAD,CAAS,CAClDD,OAAO,gCAAMC,GAAG,CAACC,WAAV,MAAuBH,SAAS,CAATA,SAAvB,GAAP,CACD,CAFkB,EAAnB,C,GAIqBI,CAAAA,mB,YACnB,6BAAYC,OAAZ,CAAsC,IAAjBC,CAAAA,UAAiB,2DAAJ,EAAI,2CACpC,KAAKD,OAAL,CAAeA,OAAf,CACA,KAAKC,UAAL,CAAkBA,UAAlB,CACA,KAAKC,cAAL,CAAsB,KAAtB,CAEA,GAAI,CAACT,YAAY,CAACU,MAAlB,CAA0B,CACxB,KAAKC,SAAL,CAAiBH,UAAU,CAACI,MAAX,CAAkB,SAACC,GAAD,CAAMX,SAAN,CAAoB,CACrDW,GAAG,CAACX,SAAD,CAAH,CAAiBD,UAAU,CAACC,SAAD,CAAYK,OAAZ,CAA3B,CACA,MAAOM,CAAAA,GAAP,CACD,CAHgB,CAGd,EAHc,CAAjB,CAID,CACF,C,6DAED,uBAAcC,UAAd,CAA0B,CACxB,KAAKP,OAAL,CAAeO,UAAf,CACA,KAAKL,cAAL,CAAsB,IAAtB,CACD,C,iCAED,2BAAkBM,OAAlB,CAA0D,mBAA/BC,CAAAA,iBAA+B,2DAAXC,SAAW,CACxD,KAAKF,OAAL,CAAeA,OAAf,CACA,KAAKG,aAAL,CAAqB,KAAKV,UAAL,CAAgBW,GAAhB,CAAoB,SAACjB,SAAD,QACvCF,CAAAA,YAAY,CAACoB,oBAAb,CAAkCL,OAAO,CAAGb,SAA5C,CAAuD,KAAI,CAACK,OAA5D,CADuC,EAApB,CAArB,CAGA,GAAI,KAAKW,aAAL,CAAmBG,MAAnB,GAA8B,CAA9B,EAAmCL,iBAAvC,CAA0D,CACxD,KAAKE,aAAL,CAAmBI,IAAnB,CACEtB,YAAY,CAACoB,oBAAb,CACEL,OAAO,CAAGC,iBADZ,CAEE,KAAKT,OAFP,CADF,EAMD,CACF,C,oCAED,+BAAuB,CACrB,KAAKW,aAAL,EACE,KAAKA,aAAL,CAAmBK,OAAnB,CAA2B,SAACC,EAAD,QACzBxB,CAAAA,YAAY,CAACyB,sBAAb,CAAoCD,EAApC,CADyB,EAA3B,CADF,CAIA,KAAKN,aAAL,CAAqBD,SAArB,CACD,C,0CAxCkBX,mB","sourcesContent":["import NativeModule from './NativeReanimated';\n\nconst jsListener = (eventName, handler) => (evt) => {\n  handler({ ...evt.nativeEvent, eventName });\n};\n\nexport default class WorkletEventHandler {\n  constructor(worklet, eventNames = []) {\n    this.worklet = worklet;\n    this.eventNames = eventNames;\n    this.reattachNeeded = false;\n\n    if (!NativeModule.native) {\n      this.listeners = eventNames.reduce((acc, eventName) => {\n        acc[eventName] = jsListener(eventName, worklet);\n        return acc;\n      }, {});\n    }\n  }\n\n  updateWorklet(newWorklet) {\n    this.worklet = newWorklet;\n    this.reattachNeeded = true;\n  }\n\n  registerForEvents(viewTag, fallbackEventName = undefined) {\n    this.viewTag = viewTag;\n    this.registrations = this.eventNames.map((eventName) =>\n      NativeModule.registerEventHandler(viewTag + eventName, this.worklet)\n    );\n    if (this.registrations.length === 0 && fallbackEventName) {\n      this.registrations.push(\n        NativeModule.registerEventHandler(\n          viewTag + fallbackEventName,\n          this.worklet\n        )\n      );\n    }\n  }\n\n  unregisterFromEvents() {\n    this.registrations &&\n      this.registrations.forEach((id) =>\n        NativeModule.unregisterEventHandler(id)\n      );\n    this.registrations = undefined;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}