{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import MapperRegistry from\"./MapperRegistry\";import MutableValue from\"./MutableValue\";import Mapper from\"./Mapper\";var JSReanimated=function(){function JSReanimated(){_classCallCheck(this,JSReanimated);this.native=false;this._valueSetter=undefined;this._renderRequested=false;this._mapperRegistry=new MapperRegistry(this);this._frames=[];}_createClass(JSReanimated,[{key:\"pushFrame\",value:function pushFrame(frame){this._frames.push(frame);this.maybeRequestRender();}},{key:\"getTimestamp\",value:function getTimestamp(){return window.performance.now();}},{key:\"maybeRequestRender\",value:function maybeRequestRender(){var _this=this;if(!this._renderRequested){this._renderRequested=true;requestAnimationFrame(function(timestampMs){_this._renderRequested=false;_this._onRender(_this.getTimestamp());});}}},{key:\"_onRender\",value:function _onRender(timestampMs){this._mapperRegistry.execute();var frames=_toConsumableArray(this._frames);this._frames=[];for(var i=0,len=frames.length;i<len;++i){frames[i](timestampMs);}if(this._mapperRegistry.needRunOnRender){this._mapperRegistry.execute();}}},{key:\"installCoreFunctions\",value:function installCoreFunctions(valueSetter){this._valueSetter=valueSetter;}},{key:\"makeShareable\",value:function makeShareable(value){return value;}},{key:\"makeMutable\",value:function makeMutable(value){return new MutableValue(value,this._valueSetter);}},{key:\"makeRemote\",value:function makeRemote(object){return object;}},{key:\"startMapper\",value:function startMapper(mapper){var inputs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var outputs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var instance=new Mapper(this,mapper,inputs,outputs);var mapperId=this._mapperRegistry.startMapper(instance);this.maybeRequestRender();return mapperId;}},{key:\"stopMapper\",value:function stopMapper(mapperId){this._mapperRegistry.stopMapper(mapperId);}},{key:\"registerEventHandler\",value:function registerEventHandler(eventHash,eventHandler){}},{key:\"unregisterEventHandler\",value:function unregisterEventHandler(registrationId){}}]);return JSReanimated;}();export{JSReanimated as default};","map":{"version":3,"sources":["C:/Users/PC NOOB/Downloads/pokepoke/node_modules/react-native-reanimated/src/reanimated2/js-reanimated/JSReanimated.js"],"names":["MapperRegistry","MutableValue","Mapper","JSReanimated","native","_valueSetter","undefined","_renderRequested","_mapperRegistry","_frames","frame","push","maybeRequestRender","window","performance","now","requestAnimationFrame","timestampMs","_onRender","getTimestamp","execute","frames","i","len","length","needRunOnRender","valueSetter","value","object","mapper","inputs","outputs","instance","mapperId","startMapper","stopMapper","eventHash","eventHandler","registrationId"],"mappings":"yMAAA,MAAOA,CAAAA,cAAP,wBACA,MAAOC,CAAAA,YAAP,sBACA,MAAOC,CAAAA,MAAP,gB,GAEqBC,CAAAA,Y,4EACnBC,M,CAAS,K,MACTC,Y,CAAeC,S,MACfC,gB,CAAmB,K,MACnBC,e,CAAkB,GAAIR,CAAAA,cAAJ,CAAmB,IAAnB,C,MAClBS,O,CAAU,E,oDAEV,mBAAUC,KAAV,CAAiB,CACf,KAAKD,OAAL,CAAaE,IAAb,CAAkBD,KAAlB,EAEA,KAAKE,kBAAL,GACD,C,4BAED,uBAAe,CACb,MAAOC,CAAAA,MAAM,CAACC,WAAP,CAAmBC,GAAnB,EAAP,CACD,C,kCAED,6BAAqB,gBACnB,GAAI,CAAC,KAAKR,gBAAV,CAA4B,CAC1B,KAAKA,gBAAL,CAAwB,IAAxB,CAEAS,qBAAqB,CAAC,SAACC,WAAD,CAAiB,CACrC,KAAI,CAACV,gBAAL,CAAwB,KAAxB,CAEA,KAAI,CAACW,SAAL,CAAe,KAAI,CAACC,YAAL,EAAf,EACD,CAJoB,CAArB,CAKD,CACF,C,yBAED,mBAAUF,WAAV,CAAuB,CACrB,KAAKT,eAAL,CAAqBY,OAArB,GAEA,GAAMC,CAAAA,MAAM,oBAAO,KAAKZ,OAAZ,CAAZ,CACA,KAAKA,OAAL,CAAe,EAAf,CAEA,IAAK,GAAIa,CAAAA,CAAC,CAAG,CAAR,CAAWC,GAAG,CAAGF,MAAM,CAACG,MAA7B,CAAqCF,CAAC,CAAGC,GAAzC,CAA8C,EAAED,CAAhD,CAAmD,CACjDD,MAAM,CAACC,CAAD,CAAN,CAAUL,WAAV,EACD,CAED,GAAI,KAAKT,eAAL,CAAqBiB,eAAzB,CAA0C,CACxC,KAAKjB,eAAL,CAAqBY,OAArB,GACD,CACF,C,oCAED,8BAAqBM,WAArB,CAAkC,CAChC,KAAKrB,YAAL,CAAoBqB,WAApB,CACD,C,6BAED,uBAAcC,KAAd,CAAqB,CACnB,MAAOA,CAAAA,KAAP,CACD,C,2BAED,qBAAYA,KAAZ,CAAmB,CACjB,MAAO,IAAI1B,CAAAA,YAAJ,CAAiB0B,KAAjB,CAAwB,KAAKtB,YAA7B,CAAP,CACD,C,0BAED,oBAAWuB,MAAX,CAAmB,CACjB,MAAOA,CAAAA,MAAP,CACD,C,2BAED,qBAAYC,MAAZ,CAA+C,IAA3BC,CAAAA,MAA2B,2DAAlB,EAAkB,IAAdC,CAAAA,OAAc,2DAAJ,EAAI,CAC7C,GAAMC,CAAAA,QAAQ,CAAG,GAAI9B,CAAAA,MAAJ,CAAW,IAAX,CAAiB2B,MAAjB,CAAyBC,MAAzB,CAAiCC,OAAjC,CAAjB,CACA,GAAME,CAAAA,QAAQ,CAAG,KAAKzB,eAAL,CAAqB0B,WAArB,CAAiCF,QAAjC,CAAjB,CACA,KAAKpB,kBAAL,GACA,MAAOqB,CAAAA,QAAP,CACD,C,0BAED,oBAAWA,QAAX,CAAqB,CACnB,KAAKzB,eAAL,CAAqB2B,UAArB,CAAgCF,QAAhC,EACD,C,oCAED,8BAAqBG,SAArB,CAAgCC,YAAhC,CAA8C,CAAE,C,sCAEhD,gCAAuBC,cAAvB,CAAuC,CAAE,C,mCAzEtBnC,Y","sourcesContent":["import MapperRegistry from './MapperRegistry';\nimport MutableValue from './MutableValue';\nimport Mapper from './Mapper';\n\nexport default class JSReanimated {\n  native = false;\n  _valueSetter = undefined;\n  _renderRequested = false;\n  _mapperRegistry = new MapperRegistry(this);\n  _frames = [];\n\n  pushFrame(frame) {\n    this._frames.push(frame);\n\n    this.maybeRequestRender();\n  }\n\n  getTimestamp() {\n    return window.performance.now();\n  }\n\n  maybeRequestRender() {\n    if (!this._renderRequested) {\n      this._renderRequested = true;\n\n      requestAnimationFrame((timestampMs) => {\n        this._renderRequested = false;\n\n        this._onRender(this.getTimestamp());\n      });\n    }\n  }\n\n  _onRender(timestampMs) {\n    this._mapperRegistry.execute();\n\n    const frames = [...this._frames];\n    this._frames = [];\n\n    for (let i = 0, len = frames.length; i < len; ++i) {\n      frames[i](timestampMs);\n    }\n\n    if (this._mapperRegistry.needRunOnRender) {\n      this._mapperRegistry.execute();\n    }\n  }\n\n  installCoreFunctions(valueSetter) {\n    this._valueSetter = valueSetter;\n  }\n\n  makeShareable(value) {\n    return value;\n  }\n\n  makeMutable(value) {\n    return new MutableValue(value, this._valueSetter);\n  }\n\n  makeRemote(object) {\n    return object;\n  }\n\n  startMapper(mapper, inputs = [], outputs = []) {\n    const instance = new Mapper(this, mapper, inputs, outputs);\n    const mapperId = this._mapperRegistry.startMapper(instance);\n    this.maybeRequestRender();\n    return mapperId;\n  }\n\n  stopMapper(mapperId) {\n    this._mapperRegistry.stopMapper(mapperId);\n  }\n\n  registerEventHandler(eventHash, eventHandler) {}\n\n  unregisterEventHandler(registrationId) {}\n}\n"]},"metadata":{},"sourceType":"module"}